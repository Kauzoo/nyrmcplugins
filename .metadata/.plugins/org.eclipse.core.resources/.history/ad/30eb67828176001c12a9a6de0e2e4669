package dev.nyr.main;

import java.io.File;
import java.io.FileWriter;

public class RequirementsCreator 
{

	public class FolderStructure
    {
    	public static final String parentFolder = "nyrmcplugin";
    	public static final String pluginSettings = "\\nyrmcplugin-settings.txt";
    	public static final String quickStackFolder = "\\quickstack";
    	public static final String selfDammageFolder = "\\selfdammage";
    	public static final String quickStackSettings = "\\quickstack-settings.txt";
    	public static final String selfDammageSettings = "\\selfdammage-settings.txt";
    	public static final String quickStackPlayerFolder = "\\players";
    	public static final String selfDammagePlayerFolder = "\\players";
    	
    	public static String getQuickStackSettingsPath()
    	{
    		return parentFolder + quickStackFolder + quickStackSettings;
    	}
    	
    	public static String getSelfDammageSettings()
    	{
    		return parentFolder + selfDammageFolder + selfDammageSettings;
    	}
    	
    	public static String getQuickStackPlayerFolder()
    	{
    		return parentFolder + quickStackFolder + quickStackPlayerFolder;
    	}
    	
    	public static String getSelfDammagePlayerFodler()
    	{
    		return parentFolder + selfDammageFolder + selfDammagePlayerFolder;
    	}
    	
    	public static String getQuickStackFolder()
    	{
    		return parentFolder + quickStackFolder;
    	}
    	
    	public static String getSelfDammageFolder()
    	{
    		return parentFolder + selfDammageFolder;
    	}
    	
    	public static String getPluginSettings()
    	{
    		return parentFolder + pluginSettings;
    	}
    }
	
    public static void CreateRequirements()
    {
    	// Try creating relevant directories
    	try
    	{
    		// Try create nyrmcplugin parent folder
    		File nyrmcpluginFolder = new File(FolderStructure.parentFolder);
    		if(nyrmcpluginFolder.exists())
    		{
    			System.out.println("[nyrmcplugin]: Folder exists " + nyrmcpluginFolder.getName());
    			// Check if all relevant Folders exist
    			File nyrmcpluginSettings = new File(FolderStructure.parentFolder + FolderStructure.pluginSettings);
    			File quickStackSettings = new File(FolderStructure.parentFolder + FolderStructure.quickStackSettings);
    			File selfDammageSettings = new File(FolderStructure.parentFolder + FolderStructure.selfDammageSettings);
    			File quickStackFolder = new File(FolderStructure.parentFolder + FolderStructure.quickStackFolder);
    			File selfDammageFolder = new File(FolderStructure.parentFolder + FolderStructure.selfDammageFolder);
    			File quickStackPlayerFolder = new File(FolderStructure.parentFolder + FolderStructure.quickStackPlayerFolder);
    			File selfDammagePlayerFolder = new File(FolderStructure.parentFolder + FolderStructure.selfDammagePlayerFolder);
    			
    			System.out.println((quickStackSettings.exists()) ? "[nyrmcplugin]: File exists: " + FolderStructure.quickStackSettings : "[nyrmcplugin]: File not exists " + FolderStructure.quickStackSettings);
    			System.out.println((selfDammageSettings.exists()) ? "[nyrmcplugin]: File exists: " + FolderStructure.selfDammageSettings : "[nyrmcplugin]: File not exists " + FolderStructure.selfDammageSettings);
    			System.out.println((quickStackFolder.exists()) ? "[nyrmcplugin]: File exists: " + FolderStructure.quickStackFolder : "[nyrmcplugin]: File not exists " + FolderStructure.quickStackFolder);
    			System.out.println((selfDammageFolder.exists()) ? "[nyrmcplugin]: File exists: " + FolderStructure.selfDammageFolder : "[nyrmcplugin]: File not exists " + FolderStructure.selfDammageFolder);
    			System.out.println((quickStackPlayerFolder.exists()) ? "[nyrmcplugin]: File exists: " + FolderStructure.quickStackPlayerFolder : "[nyrmcplugin]: File not exists " + FolderStructure.quickStackPlayerFolder);
    			System.out.println((selfDammagePlayerFolder.exists()) ? "[nyrmcplugin]: File exists: " + FolderStructure.selfDammagePlayerFolder : "[nyrmcplugin]: File not exists " + FolderStructure.selfDammagePlayerFolder);
    			System.out.println("[nyrmcplugin]: If something stops working delete parent folder.");
    		}
    		else if(nyrmcpluginFolder.mkdir())
    		{
    			System.out.println("[nyrmcplugin]: Created folder " + nyrmcpluginFolder.getName());
    			// Try create nyrmcplugin-settings file
    			File nyrmcpluginSettings = new File(nyrmcpluginFolder.getAbsolutePath() + FolderStructure.pluginSettings);
    			System.out.println((nyrmcpluginSettings.createNewFile()) ? "[nyrmcplugin]: Created file " + nyrmcpluginSettings.getName() : "[nyrmcplugin]: Failed to create file " + nyrmcpluginSettings.getName());
    			// Try create quickstack and selfdammage subfolder
    			File quickStackFolder = new File(nyrmcpluginFolder.getAbsolutePath() + FolderStructure.quickStackFolder);
    			File selfDammageFolder = new File(nyrmcpluginFolder.getAbsolutePath() + FolderStructure.selfDammageFolder);
    			if(quickStackFolder.mkdir() && selfDammageFolder.mkdir())
    			{
    				System.out.println("[nyrmcplugin]: Created folder " + selfDammageFolder.getName());
    				System.out.println("[nyrmcplugin]: Created folder " + quickStackFolder.getName());
    				
    				// Try create quickstack-settings and selfdammage-settings
    				File quickStackSettings = new File(quickStackFolder.getAbsolutePath() + FolderStructure.quickStackSettings);
        			File selfDammageSettings = new File(selfDammageFolder.getAbsolutePath() + FolderStructure.selfDammageSettings);
    				System.out.println((quickStackSettings.createNewFile()) ? "[nyrmcplugin]: Created file " + quickStackSettings.getName() : "[nyrmcplugin]: Failed to create file " + quickStackSettings.getName());
    				System.out.println((selfDammageSettings.createNewFile()) ? "[nyrmcplugin]: Created file " + selfDammageSettings.getName() : "[nyrmcplugin]: Failed to create file " + selfDammageSettings.getName());
    				
    				// Try create players folder
    				File quickStackPlayerFolder = new File(quickStackFolder.getAbsolutePath() + FolderStructure.quickStackPlayerFolder);
    				File selfDammagePlayerFolder = new File(selfDammageFolder.getAbsolutePath() + FolderStructure.selfDammagePlayerFolder);
    				System.out.println((quickStackPlayerFolder.mkdir()) ? "[nyrmcplugin]: Created folder " + quickStackPlayerFolder.getName() : "[nyrmcplugin]: Failed to create file " + quickStackPlayerFolder.getName());
    				System.out.println((selfDammagePlayerFolder.mkdir()) ? "[nyrmcplugin]: Created folder " + selfDammagePlayerFolder.getName() : "[nyrmcplugin]: Failed to create file " + selfDammagePlayerFolder.getName());
    			}
    		}
    	}
    	catch(Exception e)
    	{
    		System.out.println("[nyrmcplugin]: Something went wrong during CreateRequirements");
    		e.printStackTrace();
    	}
    }
    
    private static void InitializePluginSettings(File file)
    {
    	// KeyValuePairs
    	String pluginSettingsStrings =  UsefullListener.PluginCommandDefaults.pluginSettingsStringKey + "=" + UsefullListener.PluginCommandDefaults.pluginSettingsString;
    	String pluginEnableQuickStackFlag =  UsefullListener.PluginCommandDefaults.pluginEnableQuickStackFlagKey + "=" + UsefullListener.PluginCommandDefaults.pluginEnableQuickStackFlag;
    	String pluginEnableSelfDammageFlag =  UsefullListener.PluginCommandDefaults.pluginEnableSelfDammageFlagKey + "=" + UsefullListener.PluginCommandDefaults.pluginEnableSelfDammageFlag;
    	String pluginOptionsDelim =  UsefullListener.PluginCommandDefaults.pluginOptionsDelimKey + "=" + UsefullListener.PluginCommandDefaults.pluginOptionsDelim;
    	String pluginHelpFlag = UsefullListener.PluginCommandDefaults.pluginHelpFlagKey + "=" + UsefullListener.PluginCommandDefaults.pluginHelpFlag;
    	String enableQuickStack =  UsefullListener.PluginCommandDefaults.enableQuickStackKey + "=" + UsefullListener.PluginCommandDefaults.enableQuickStack;
    	String enableSelfDammage =  UsefullListener.PluginCommandDefaults.enableSelfDammageKey + "=" + UsefullListener.PluginCommandDefaults.enableSelfDammage;
    	try
    	{
    		FileWriter writer = new FileWriter(file);
    		for(int i = 0; i < 7; i++)
    		{
    			
    		}
    	}
    	catch (Exception e)
    	{
    		e.printStackTrace();
    	}
    }
}
